{% schema %}
{
  "name": "Choose Your Action",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "CHOOSE YOUR ACTION"
    }
  ],
  "blocks": [
    {
      "type": "action_item",
      "name": "Action Item",
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "HIKING"
        },
        {
          "type": "image_picker",
          "id": "image1",
          "label": "Top Left Image"
        },
        {
          "type": "image_picker",
          "id": "image2",
          "label": "Bottom Left Image"
        },
        {
          "type": "image_picker",
          "id": "image3",
          "label": "Top Right Image"
        },
        {
          "type": "image_picker",
          "id": "image4",
          "label": "Bottom Right Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Choose Your Action",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<div class="choose-action-wrapper">
  <div class="choose-action-container">
    <!-- Left Side -->
    <div class="choose-action-left">
      <h4 class="choose-action-title">{{ section.settings.section_title }}</h4>
      <ul class="action-labels">
        {% for block in section.blocks %}
          <li class="action-label {% if forloop.first %}active{% endif %}" data-id="label-{{ block.id }}"><a href="#">{{ block.settings.label }}</a></li>
        {% endfor %}
      </ul>
    </div>

    <!-- Right Side -->
    <div class="choose-action-right">
      {% for block in section.blocks %}
        <div class="action-image-set {% if forloop.first %}active{% endif %}" id="label-{{ block.id }}">
          <div class="action-image-left">
          {% if block.settings.image1 %}
            <img src="{{ block.settings.image1 | image_url: width: 400 }}" alt="" class="action-image">
          {% endif %}
          {% if block.settings.image2 %}
            <img src="{{ block.settings.image2 | image_url: width: 400 }}" alt="" class="action-image">
          {% endif %}
           </div>
            <div class="action-image-right">
          {% if block.settings.image3 %}
            <img src="{{ block.settings.image3 | image_url: width: 400 }}" alt="" class="action-image">
          {% endif %}
          {% if block.settings.image4 %}
            <img src="{{ block.settings.image4 | image_url: width: 400 }}" alt="" class="action-image">
          {% endif %}
           </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% style %}
.choose-action-wrapper {
  padding: 40px 20px;
}

.choose-action-title {
  font-size: calc(14px + (20 - 14) * ((100vw - 360px) / (1920 - 360)));
  text-transform: uppercase;
  color: #292929;
}
.action-labels {
  list-style: none;
  padding: 0;
  width: fit-content;
}

.choose-action-left .action-label a {
  font-size: calc(40px + (80 - 40) * ((100vw - 360px) / (1920 - 360)));
  font-weight: bold;
  padding-bottom: 25px;
  cursor: pointer;
  color: #212121;
  line-height: 1;
  display: block;
  text-decoration: none;
}
.action-label a:hover {
  color: #FF3200;
}
.action-labels:hover .action-label {
 opacity: 0.5;
}
.action-labels:hover .action-label.active {
 opacity: 1;
}
.action-image-set {
  display: none;
  gap: 20px;
}
.choose-action-right .action-image-set img {
  width: 100%;
}
.choose-action-right .action-image-set .action-image-left,
.choose-action-right .action-image-set .action-image-right {
   display: flex;
   flex-direction: column;
   gap: 20px;
}
.choose-action-right .action-image-set .action-image-right {
  padding-top: 40px;
}
.action-image-set.active {
  display: flex;
}
/* Responsive */
@media screen and (max-width: 768px) {
  .choose-action-container {
    flex-direction: column;
  }
  .action-image {
    width: 100%;
  }
}
@media screen and (max-width: 992px) {
.choose-action-container .choose-action-left .choose-action-title {
  margin-bottom: 3rem;
}
.choose-action-container .choose-action-right {
  display: none;
}
.choose-action-container .choose-action-left {
 text-align: center;
}
.choose-action-container .choose-action-left .action-labels {
   margin: auto;

}
}
@media screen and (min-width: 992px) {
.choose-action-wrapper .choose-action-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 7rem;
  align-items: center;
}
.choose-action-container .choose-action-left .choose-action-title {
  margin-bottom: 5rem;
}
}
{% endstyle %}

<script>
document.addEventListener("DOMContentLoaded", function () {
  const labels = document.querySelectorAll(".action-label");
  const imageSets = document.querySelectorAll(".action-image-set");

  labels.forEach(label => {
    label.addEventListener("mouseenter", () => {
      const id = label.getAttribute("data-id");

      // Remove active class from all
      labels.forEach(l => l.classList.remove("active"));
      imageSets.forEach(set => set.classList.remove("active"));

      // Add active to hovered
      label.classList.add("active");
      const targetSet = document.getElementById(id);
      if (targetSet) targetSet.classList.add("active");
    });
  });
});
</script>
